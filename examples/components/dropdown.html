<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, minimal-ui">

  <title>Dropdown Component Example</title>

  <link rel="stylesheet" type="text/css" href="../../dist/mussel.css" />

  <style>
    .group {
      align-items: start;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;

      padding: 8px;
      margin: 8px;
    }
  </style>

  <script type="text/javascript" src="../../node_modules/vue/dist/vue.global.js"></script>
  <script type="text/javascript" src="../../dist/mussel.js"></script>
</head>

<body>
  <div id="app" class="mu-box" position="fixed fit">
    <div class="group">
      <mu-dropdown
        style="display: inline-block;"
        :dropdown-items="artists"
        @dropdown:show="onShow"
        @dropdown:itemclick="onItemClick">
        <mu-button>{{ artist || 'Mouse Hover' }}</mu-button>
      </mu-dropdown>
      <mu-dropdown
        style="display: inline-block;"
        dropdown-trigger="click"
        :dropdown-items="artists"
        @dropdown:show="onShow"
        @dropdown:itemclick="onItemClick">
        <mu-button>Press me</mu-button>
      </mu-dropdown>
    </div>
    <div class="group">
      <mu-dropdown-button
        danger
        caption="Dropdown Button"
        :dropdown-items="artists"
        @dropdown:itemclick="onItemClick">
      </mu-dropdown-button>
      <mu-dropdown-button
        x-color="cyan"
        split-button
        caption="Split Button"
        dropdown-trigger="click"
        :dropdown-items="artists"
        @click="onButtonClick"
        @dropdown:itemclick="onItemClick">
      </mu-dropdown-button>
    </div>
    <div class="group">
      <mu-dropdown-button
        split-button
        x-color="grape"
        caption="Check & Radio"
        @dropdown:itemclick="onItemClick">
        <template #dropdown>
          <mu-dropdown-check-item
            value="Ludwig van Beethoven"
            v-model="checkedArtists">
          </mu-dropdown-check-item>
          <mu-dropdown-check-item
            value="Wolfgang Amadeus Mozart"
            v-model="checkedArtists">
          </mu-dropdown-check-item>
          <mu-list-divider></mu-list-divider>
          <mu-dropdown-radio-item
            value="Frédéric François Chopin"
            v-model="checkedArtist">
          </mu-dropdown-radio-item>
          <mu-dropdown-radio-item
            value="Johann Baptist Strauss"
            v-model="checkedArtist">
          </mu-dropdown-radio-item>
        </template>
      </mu-dropdown-button>
    </div>
    <div class="group">
      <mu-dropdown
        dropdown-trigger="click"
        dropdown-style="max-height: 200px;"
        dropdown-scrollbar
        :dropdown-items="artists">
        <mu-button>Scrollbar</mu-button>
      </mu-dropdown>
    </div>
    <div id="divX" class="group">
      <mu-dropdown-button
        primary
        split-button
        button-style="outline"
        caption="Request Fullscreen"
        dropdown-trigger="click"
        :dropdown-items="artists"
        @click="requestFullscreen"
        @dropdown:itemclick="onItemClick">
      </mu-dropdown-button>
    </div>
    <!-- <div class="mu-box" layout="flex" padding="1x">
      <mu-button @click="stickyPanelVisible = true">Where's the Dropdown ?</mu-button>
      <mu-dropdown-panel
        :items="artists"
        :sticky-target="btnGrape"
        width="auto"
        v-model:visible="stickyPanelVisible">
      </mu-dropdown-panel>
    </div> -->
  </div>

  <script type="text/javascript">
    const app = Vue.createApp({
      setup () {
        const artist = Vue.ref()
        const artists = Vue.ref([
          { is: '-', label: 'GROUP 1' },
          { label: 'Ludwig van Beethoven', value: 1, icon: 'circleAlert'  },
          { label: 'Wolfgang Amadeus Mozart', icon: 'circleAlert' },
          '-',
          { is: '-', label: 'GROUP 2' },
          { is: '-', label: 'GROUP 3' },
          { label: 'Frédéric François Chopin' },
          { label: 'Johann Baptist Strauss', icon: 'circleAlert' }
        ])
        const checkedArtist = Vue.ref(null)
        const checkedArtists = Vue.ref([])
        const permission = Vue.ref(false)

        function onShow () {
          console.log('show')
        }

        function onItemClick (item) {
          artist.value = item.value || item.label
        }

        function onButtonClick () {
          console.log('button click')
        }

        function requestFullscreen () {
          const divX = document.querySelector('#divX')

          divX.requestFullscreen()
        }

        const stickyPanelVisible = Vue.ref(false)

        return {
          artist,
          artists,
          checkedArtist,
          checkedArtists,
          stickyPanelVisible,
          permission,
          onShow,
          onItemClick,
          onButtonClick,
          requestFullscreen
        }
      }
    })

    mussel.install(app, {
      darkMode: false,
      icons: {
        bug: 'ti ti-bug',
        bolt: 'ti ti-bolt',
        album: 'ti ti-album'
      }
    })
  
    app.mount('#app')
  </script>
</body>
