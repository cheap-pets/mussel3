.mu-button {
  cursor: pointer;
  user-select: none;

  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;

  min-width: $buttonHeight;
  height: $buttonHeight;
  padding: 0 $buttonPaddingX;

  font-family: inherit;
  font-size: var(--mu-common-font-size);
  line-height: $buttonLineHeight;
  color: var(--mu-button-text-color-normal);
  text-decoration: none;
  text-overflow: ellipsis;
  white-space: nowrap;

  background: var(--mu-button-background-normal);
  border: $buttonBorderWidth solid currentColor;
  border-radius: $buttonBorderRadius;
  outline: none;

  & > span {
    display: block;
  }

  & > * {
    margin-left: $inlineItemSpacing;
  }

  & > :first-child {
    margin-left: 0;
  }
}

.mu-button-group {
  position: relative;

  display: flex;
  align-items: center;
  justify-content: center;

  background: var(--mu-button-background-normal);
  border-radius: $buttonBorderRadius;

  & > .mu-button {
    flex: 1 1 0;

    margin-left: -1px;

    color: var(--mu-button-text-color-normal);

    background: transparent;
    border: $buttonBorderWidth solid var(--mu-button-border-color-normal);
    border-radius: $buttonBorderRadius;

    &:first-child {
      margin-left: 0;
    }

    &:not(:first-of-type) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &:not(:last-of-type) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  &[round] {
    border-radius: calc($buttonHeight / 2);

    & > .mu-button:first-of-type {
      border-top-left-radius: calc($buttonHeight / 2);
      border-bottom-left-radius: calc($buttonHeight / 2);
    }

    & > .mu-button:last-of-type {
      border-top-right-radius: calc($buttonHeight / 2);
      border-bottom-right-radius: calc($buttonHeight / 2);
    }
  }

  & > .mu-split-button,
  & > .mu-icon-button {
    flex: none;
  }
}

.mu-button-group[primary] > .mu-button,
.mu-button[primary] {
  color: var(--mu-text-color-reversed);
  background: var(--mu-primary-color);
  border-color: var(--mu-primary-color);

  &[button-style="link"],
  &[button-style="text"],
  &[button-style="outline"] {
    color: var(--mu-primary-color);

    &:hover {
      color: var(--mu-primary-color-light);
    }
  }

  &[active] {
    color: var(--mu-text-color-reversed);
    background: var(--mu-primary-color-dark);
    border-color: var(--mu-primary-color-dark);
  }

  &:hover,
  &[active]:hover {
    color: var(--mu-text-color-reversed);
    background: var(--mu-primary-color-light);
    border-color: var(--mu-primary-color-light);
  }

  &:focus {
    box-shadow: $buttonFocusShadowSize var(--mu-primary-color-shadow);
  }

  &[button-style="link"][active] {
    color: var(--mu-primary-color-dark);
  }
}

.mu-button-group[secondary] > .mu-button,
.mu-button[secondary] {
  color: var(--mu-text-color-reversed);
  background: var(--mu-secondary-color);
  border-color: var(--mu-secondary-color);

  &[button-style="link"],
  &[button-style="text"],
  &[button-style="outline"] {
    color: var(--mu-secondary-color);

    &:hover {
      color: var(--mu-secondary-color-light);
    }
  }

  &[active] {
    color: var(--mu-text-color-reversed);
    background: var(--mu-secondary-color-dark);
    border-color: var(--mu-secondary-color-dark);
  }

  &:hover,
  &[active]:hover {
    color: var(--mu-text-color-reversed);
    background: var(--mu-secondary-color-light);
    border-color: var(--mu-secondary-color-light);
  }

  &:focus {
    box-shadow: $buttonFocusShadowSize var(--mu-secondary-color-shadow);
  }

  &[button-style="link"][active] {
    color: var(--mu-secondary-color-dark);
  }
}

.mu-button-group[danger] > .mu-button,
.mu-button[danger] {
  color: var(--mu-text-color-reversed);
  background: var(--mu-danger-color);
  border-color: var(--mu-danger-color);

  &[button-style="link"],
  &[button-style="text"],
  &[button-style="outline"] {
    color: var(--mu-danger-color);

    &:hover {
      color: var(--mu-danger-color-light);
    }
  }

  &[active] {
    color: var(--mu-text-color-reversed);
    background: var(--mu-danger-color-dark);
    border-color: var(--mu-danger-color-dark);
  }

  &:hover,
  &[active]:hover {
    color: var(--mu-text-color-reversed);
    background: var(--mu-danger-color-light);
    border-color: var(--mu-danger-color-light);
  }

  &:focus {
    box-shadow: $buttonFocusShadowSize var(--mu-danger-color-shadow);
  }

  &[button-style="link"][active] {
    color: var(--mu-danger-color-dark);
  }
}

.mu-button-group[x-color] > .mu-button,
.mu-button[x-color] {
  color: var(--mu-text-color-reversed);
  background: var(--mu-x-color);
  border-color: var(--mu-x-color);

  &[button-style="link"],
  &[button-style="text"],
  &[button-style="outline"] {
    color: var(--mu-x-color);

    &:hover {
      color: var(--mu-x-color-light);
    }
  }

  &[active] {
    color: var(--mu-text-color-reversed);
    background: var(--mu-x-color-dark);
    border-color: var(--mu-x-color-dark);
  }

  &:hover,
  &[active]:hover {
    color: var(--mu-text-color-reversed);
    background: var(--mu-x-color-light);
    border-color: var(--mu-x-color-light);
  }

  &:focus {
    box-shadow: $buttonFocusShadowSize var(--mu-x-color-shadow);
  }

  &[button-style="link"][active] {
    color: var(--mu-x-color-dark);
  }
}

.mu-button {
  &[button-style="text"] {
    border-color: transparent;
  }

  &[button-style="outline"] {
    &, &:hover {
      background: var(--mu-button-background-outline);
    }
  }

  &[button-style="text"] {
    &, &:hover {
      background: transparent;
    }
  }

  &[active] {
    z-index: 1;
    color: var(--mu-primary-color-dark);
    border-color: var(--mu-primary-color-dark);
  }
}

.mu-button {
  &:hover {
    z-index: 2;
    color: var(--mu-primary-color-light);
    border-color: var(--mu-primary-color-light);
  }

  &:focus {
    z-index: 3;
    box-shadow: $buttonFocusShadowSize var(--mu-primary-color-shadow);
  }

  &[round] {
    border-radius: calc($buttonHeight / 2);
  }
}

.mu-button-group > .mu-button {
  &[active] {
    z-index: 1;
    color: var(--mu-text-color-reversed);
    background: var(--mu-primary-color-dark);
    border-color: var(--mu-primary-color-dark);

    &:hover {
      background: var(--mu-primary-color-light);
      border-color: var(--mu-primary-color-light);
    }
  }
}

.mu-button-group {
  &[primary],
  &[secondary],
  &[danger],
  &[x-color] {
    & > .mu-button:not(:first-of-type) {
      border-left-color: rgba(255, 255, 255, .25);
    }
  }
}

.mu-button-group[disabled] > .mu-button,
.mu-button[disabled] {
  pointer-events: none;
  cursor: default;

  z-index: 1;

  color: var(--mu-text-color-weak) !important;

  background: var(--mu-background-disabled) !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.mu-button[button-style="link"] {
  padding-right: 0;
  padding-left: 0;

  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.mu-button-group[small] > .mu-button,
.mu-button[small] {
  min-width: $smallButtonHeight;
  height: $smallButtonHeight;
}

.mu-button[small] {
  padding: 0 $smallButtonPaddingX;
}

.mu-button {
  &.mu-icon-button,
  &.mu-split-button {
    padding: 0 !important;
  }
}